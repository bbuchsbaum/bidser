<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read sidecar JSON files and return metadata as a tidy tibble — read_sidecar • bidser</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read sidecar JSON files and return metadata as a tidy tibble — read_sidecar"><meta name="description" content="This function searches for JSON sidecar files matching the given criteria (subject, task, run, session),
reads the JSON content, and converts all top-level fields into columns of a tibble. Each file's metadata
becomes one row in the returned tibble. This is particularly useful for extracting metadata about BIDS
imaging files, such as acquisition parameters, task descriptions, and other relevant information."><meta property="og:description" content="This function searches for JSON sidecar files matching the given criteria (subject, task, run, session),
reads the JSON content, and converts all top-level fields into columns of a tibble. Each file's metadata
becomes one row in the returned tibble. This is particularly useful for extracting metadata about BIDS
imaging files, such as acquisition parameters, task descriptions, and other relevant information."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bidser</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/quickstart.html">Getting Started with bidser</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbuchsbaum/bidser/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Read sidecar JSON files and return metadata as a tidy tibble</h1>
      <small class="dont-index">Source: <a href="https://github.com/bbuchsbaum/bidser/blob/master/R/sidecar.R" class="external-link"><code>R/sidecar.R</code></a></small>
      <div class="d-none name"><code>read_sidecar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function searches for JSON sidecar files matching the given criteria (subject, task, run, session),
reads the JSON content, and converts all top-level fields into columns of a tibble. Each file's metadata
becomes one row in the returned tibble. This is particularly useful for extracting metadata about BIDS
imaging files, such as acquisition parameters, task descriptions, and other relevant information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_sidecar</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  subid <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  task <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  run <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  session <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  modality <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>  full_path <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>bids_project</code> object.</p></dd>


<dt id="arg-subid">subid<a class="anchor" aria-label="anchor" href="#arg-subid"></a></dt>
<dd><p>A regex for matching subject IDs. Default is <code>".*"</code>.</p></dd>


<dt id="arg-task">task<a class="anchor" aria-label="anchor" href="#arg-task"></a></dt>
<dd><p>A regex for matching tasks. Default is <code>".*"</code>.</p></dd>


<dt id="arg-run">run<a class="anchor" aria-label="anchor" href="#arg-run"></a></dt>
<dd><p>A regex for matching runs. Default is <code>".*"</code>.</p></dd>


<dt id="arg-session">session<a class="anchor" aria-label="anchor" href="#arg-session"></a></dt>
<dd><p>A regex for matching sessions. Default is <code>".*"</code>.</p></dd>


<dt id="arg-modality">modality<a class="anchor" aria-label="anchor" href="#arg-modality"></a></dt>
<dd><p>A regex for matching modality/kind (e.g. "bold"). Default is <code>"bold"</code>.
This is matched against the 'kind' field in parsed BIDS filenames.</p></dd>


<dt id="arg-full-path">full_path<a class="anchor" aria-label="anchor" href="#arg-full-path"></a></dt>
<dd><p>If TRUE, return full file paths in the <code>file</code> column. Default is TRUE.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="search_files.html">search_files()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with one row per JSON file. Columns include:</p><ul><li><p><code>file</code>: the JSON file path</p></li>
<li><p><code>.subid</code>: subject ID extracted from filename</p></li>
<li><p><code>.session</code>: session ID extracted from filename (if present)</p></li>
<li><p><code>.task</code>: task name extracted from filename (if present)</p></li>
<li><p><code>.run</code>: run number extracted from filename (if present)</p></li>
<li><p>Additional columns for each top-level key in the JSON files
If no files are found, returns an empty tibble.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Read all BOLD sidecar files from a BIDS dataset</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">ds001_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_example_bids_dataset.html">get_example_bids_dataset</a></span><span class="op">(</span><span class="st">"ds001"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">proj</span> <span class="op">&lt;-</span> <span class="fu"><a href="bids_project.html">bids_project</a></span><span class="op">(</span><span class="va">ds001_path</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu">read_sidecar</span><span class="op">(</span><span class="va">proj</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Read sidecar files for a specific subject and task</span></span></span>
<span class="r-in"><span>  <span class="va">sub01_meta</span> <span class="op">&lt;-</span> <span class="fu">read_sidecar</span><span class="op">(</span><span class="va">proj</span>, </span></span>
<span class="r-in"><span>                            subid<span class="op">=</span><span class="st">"01"</span>, </span></span>
<span class="r-in"><span>                            task<span class="op">=</span><span class="st">"balloonanalogrisktask"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Read sidecar files for anatomical data</span></span></span>
<span class="r-in"><span>  <span class="va">anat_meta</span> <span class="op">&lt;-</span> <span class="fu">read_sidecar</span><span class="op">(</span><span class="va">proj</span>, </span></span>
<span class="r-in"><span>                           modality<span class="op">=</span><span class="st">"T1w"</span>,</span></span>
<span class="r-in"><span>                           full_path<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Clean up</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">ds001_path</span>, recursive<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Example requires internet connection: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No matching JSON sidecar files found.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No matching JSON sidecar files found.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No matching JSON sidecar files found.</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

