<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Query Transform Files from a BIDS Project — transform_files • bidser</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query Transform Files from a BIDS Project — transform_files"><meta name="description" content="Retrieves paths to transformation files (xfm, warp, affine) from a BIDS project,
optionally filtered by source and target coordinate space. Transform files are
typically found in fMRIPrep derivatives and encode spatial transformations
between different coordinate spaces (e.g., T1w to MNI, boldref to T1w)."><meta property="og:description" content="Retrieves paths to transformation files (xfm, warp, affine) from a BIDS project,
optionally filtered by source and target coordinate space. Transform files are
typically found in fMRIPrep derivatives and encode spatial transformations
between different coordinate spaces (e.g., T1w to MNI, boldref to T1w)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bidser</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/quickstart.html">Getting Started with bidser</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbuchsbaum/bidser/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Query Transform Files from a BIDS Project</h1>
      <small class="dont-index">Source: <a href="https://github.com/bbuchsbaum/bidser/blob/master/R/all_generic.R" class="external-link"><code>R/all_generic.R</code></a>, <a href="https://github.com/bbuchsbaum/bidser/blob/master/R/bids.R" class="external-link"><code>R/bids.R</code></a>, <a href="https://github.com/bbuchsbaum/bidser/blob/master/R/mock_bids.R" class="external-link"><code>R/mock_bids.R</code></a></small>
      <div class="d-none name"><code>transform_files.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieves paths to transformation files (xfm, warp, affine) from a BIDS project,
optionally filtered by source and target coordinate space. Transform files are
typically found in fMRIPrep derivatives and encode spatial transformations
between different coordinate spaces (e.g., T1w to MNI, boldref to T1w).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">transform_files</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  subid <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  session <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  from <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  kind <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  full_path <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'bids_project'</span></span>
<span><span class="fu">transform_files</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  subid <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  session <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  from <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  kind <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  full_path <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'mock_bids_project'</span></span>
<span><span class="fu">transform_files</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  subid <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  session <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  from <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  kind <span class="op">=</span> <span class="st">".*"</span>,</span>
<span>  full_path <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>bids_project</code> or <code>mock_bids_project</code> object.</p></dd>


<dt id="arg-subid">subid<a class="anchor" aria-label="anchor" href="#arg-subid"></a></dt>
<dd><p>Regex pattern to match subject IDs (without "sub-" prefix).
Default <code>".*"</code> matches all subjects.</p></dd>


<dt id="arg-session">session<a class="anchor" aria-label="anchor" href="#arg-session"></a></dt>
<dd><p>Regex pattern to match session IDs (without "ses-" prefix).
Default <code>".*"</code> matches all sessions.</p></dd>


<dt id="arg-from">from<a class="anchor" aria-label="anchor" href="#arg-from"></a></dt>
<dd><p>Regex pattern to match source space (the "from" BIDS entity).
Common values: "T1w", "boldref", "fsnative". Default <code>".*"</code> matches all.</p></dd>


<dt id="arg-to">to<a class="anchor" aria-label="anchor" href="#arg-to"></a></dt>
<dd><p>Regex pattern to match target space (the "to" BIDS entity).
Common values: "MNI152NLin2009cAsym", "T1w", "fsnative". Default <code>".*"</code> matches all.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Regex pattern to match transform mode entity. Default <code>".*"</code>.</p></dd>


<dt id="arg-kind">kind<a class="anchor" aria-label="anchor" href="#arg-kind"></a></dt>
<dd><p>Transform type: <code>"xfm"</code>, <code>"warp"</code>, <code>"affine"</code>, or <code>".*"</code> for all types.
Default <code>".*"</code> matches all transform types.</p></dd>


<dt id="arg-full-path">full_path<a class="anchor" aria-label="anchor" href="#arg-full-path"></a></dt>
<dd><p>Logical. If <code>TRUE</code> (default), return absolute file paths.
If <code>FALSE</code>, return paths relative to project root.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code>search_files</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Character vector of file paths matching the criteria, or <code>NULL</code> if
no matching files are found.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Get all transform files</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">ds_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_example_bids_dataset.html">get_example_bids_dataset</a></span><span class="op">(</span><span class="st">"ds000001-fmriprep"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">proj</span> <span class="op">&lt;-</span> <span class="fu"><a href="bids_project.html">bids_project</a></span><span class="op">(</span><span class="va">ds_path</span>, fmriprep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># All transforms</span></span></span>
<span class="r-in"><span>  <span class="va">all_xfms</span> <span class="op">&lt;-</span> <span class="fu">transform_files</span><span class="op">(</span><span class="va">proj</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Transforms from T1w to MNI space</span></span></span>
<span class="r-in"><span>  <span class="va">t1_to_mni</span> <span class="op">&lt;-</span> <span class="fu">transform_files</span><span class="op">(</span><span class="va">proj</span>, from <span class="op">=</span> <span class="st">"T1w"</span>, to <span class="op">=</span> <span class="st">"MNI152"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># All transforms for a specific subject</span></span></span>
<span class="r-in"><span>  <span class="va">sub01_xfms</span> <span class="op">&lt;-</span> <span class="fu">transform_files</span><span class="op">(</span><span class="va">proj</span>, subid <span class="op">=</span> <span class="st">"01"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Clean up</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">ds_path</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Example requires internet connection: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Example requires internet connection: participants.tsv is missing</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

